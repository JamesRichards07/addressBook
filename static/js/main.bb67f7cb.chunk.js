(this["webpackJsonpaddress-book"]=this["webpackJsonpaddress-book"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(20),n=c.n(s),l=c(7),r=c(3),i=c(4),d=c(0),j=Object(a.createContext)({contact:[],replaceContact:function(e){}});function o(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1];var l={contact:s,replaceContact:function(e){return n(e)}};return Object(d.jsx)(j.Provider,{value:l,children:e.children})}var b=j,x=c(5);var u=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(a.useRef)(null),j=Object(a.useRef)(null),o=Object(a.useRef)([]);function b(e){e&&!o.current.includes(e)&&o.current.push(e)}return Object(d.jsx)("form",{onSubmit:function(t){var c,a;t.preventDefault();for(var n=null===(c=r.current)||void 0===c?void 0:c.value,l=null===(a=j.current)||void 0===a?void 0:a.value,i=[],d=0;d<s.length;d++)""!==o.current[d].value&&i.push(o.current[d].value);var b={firstName:n,lastName:l,emails:i};e.onNewContact(b)},className:"",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"flex text-xs xl:space-x-80 xl:pl-80 lg:pl-44 lg:space-x-80 md:space-x-48 md:pl-36 sm:space-x-40",children:[Object(d.jsx)("h3",{children:"* First name"}),Object(d.jsx)("h3",{children:"* Last name"})]}),Object(d.jsxs)("div",{className:"flex pb-10 xl:space-x-52 xl:pl-80 lg:pl-44 lg:space-x-40 lg:pl-32 md:space-x-10 md:pl-36 space-x-10",children:[Object(d.jsxs)("div",{className:"bg-blue-100 border-solid border-2 border-blue-200",children:[Object(d.jsx)("label",{htmlFor:"firstname"}),Object(d.jsx)("input",{className:"pr-12 sm:pr-3",type:"text",required:!0,id:"firstname",name:"firstName",ref:r})]}),Object(d.jsxs)("div",{className:"bg-blue-100 border-solid border-2 border-blue-200",children:[Object(d.jsx)("label",{htmlFor:"lastname"}),Object(d.jsx)("input",{className:"pr-12 sm:pr-3",type:"text",required:!0,id:"lastname",name:"LastName",ref:j})]})]})]}),Object(d.jsxs)("div",{className:"xl:pl-80 lg:pl-44 md:pl-36",children:[Object(d.jsx)("div",{className:"text-xs",children:"Email"}),Object(d.jsx)("div",{children:s.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email"}),Object(d.jsx)("input",{className:"border-solid border-2 border-blue-200 pr-3",type:"text",id:"email"+t,name:"email"+t,ref:b})]},"email"+t)}))}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"text-green-500 pb-10",onClick:function(){n([].concat(Object(x.a)(s),[""]))},type:"button",children:"+ Add Email"})})]})]}),Object(d.jsxs)("div",{className:"xl:space-x-60 xl:pl-96 lg:pl-64 lg:space-x-56 md:pl-48 md:space-x-36 sm:pl-14 sm:space-x-32",children:[Object(d.jsx)(l.b,{className:"border-2 border-gray-300 px-6 py-2 rounded text-yellow-600",to:"/addressBook",children:"Cancel"}),Object(d.jsx)("button",{className:"bg-green-600 px-2 py-1 text-white text-left rounded",children:"Save"})]})]})})};var m=function(e){var t=Object(a.useContext)(b),c=Object(r.f)();return Object(d.jsx)("section",{children:Object(d.jsx)("li",{children:Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){return function(e){c.replace("/addressBook"),t.replaceContact(e)}(e)},children:e.firstName+" "+e.lastName})})})})};var p=function(e){return Object(d.jsx)("ul",{children:e.contacts.map((function(e){return Object(d.jsx)(m,{id:e.id,firstName:e.firstName,lastName:e.lastName,emails:e.emails},e.id)}))})},h=c(22);var O=function(e,t,c,a){var s=function(e){e.sort((function(e,t){return e.firstName.localeCompare(t.firstName)||e.lastName.localeCompare(t.lastName)}))};fetch(e,{method:t}).then((function(e){return function(e){return e.json()}(e)})).then((function(e){return function(e){var t=[];for(var n in e.contacts){var l=Object(h.a)({id:n},e.contacts[n]);t.push(l)}return s(t),a(t),c(!1)}(e)}))};var f=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(i.a)(n,2),j=r[0],o=r[1];return Object(a.useEffect)((function(){console.log("Effect"),s(!0);O("https://avb-contacts-api.herokuapp.com/contacts/paginated","GET",s,o)}),[]),c?Object(d.jsx)("section",{children:Object(d.jsx)("p",{children:"Loading..."})}):Object(d.jsx)("section",{children:Object(d.jsxs)("div",{className:"fixed top-0 left-0 bottom-0 space-y-5 bg-gray-50 p-5",children:[Object(d.jsxs)("div",{className:"space-x-3 flex",children:[Object(d.jsx)("h1",{className:"text-2xl",children:"Contacts"}),Object(d.jsx)(l.b,{className:"bg-green-400 px-1 text-white rounded-full h-8 w-8 text-2xl text-center",to:"/addressBook/edit/newContact",children:"+"})]}),Object(d.jsx)("div",{children:Object(d.jsx)(p,{contacts:j})})]})})};var v=function(){var e=Object(r.f)(),t=Object(a.useContext)(b);return Object(d.jsx)("section",{className:"relative",children:Object(d.jsxs)("div",{className:"md:flex",children:[Object(d.jsx)("div",{children:Object(d.jsx)(f,{})}),Object(d.jsxs)("div",{className:"fixed left-44 right-0 p-10 space-y-20",children:[Object(d.jsx)("h1",{className:"text-center",children:"New Contact"}),Object(d.jsx)(u,{onNewContact:function(c){fetch("https://avb-contacts-api.herokuapp.com/contacts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(){t.replaceContact([]),e.replace("/addressBook")}))}})]})]})})};var N=function(e){return Object(d.jsx)("section",{className:"xl:pl-96 lg:pl-60 md:pl-32 sm:pl-5",children:Object(d.jsxs)("div",{className:"space-y-10 pt-10",children:[Object(d.jsxs)("div",{className:"flex space-x-72",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{className:"text-xs",children:"First name:"}),Object(d.jsx)("div",{children:e.contact.firstName})]}),Object(d.jsxs)("div",{className:"flex-auto",children:[Object(d.jsx)("h3",{className:"text-xs",children:"Last name:"}),Object(d.jsx)("div",{children:e.contact.lastName})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Email:"}),void 0!==e.contact.emails?e.contact.emails.map((function(e){return Object(d.jsx)("h3",{children:e})})):null]})]})})};var g=function(e){var t,c=Object(a.useContext)(b);return 0===c.contact.length?(t=Object(d.jsx)(N,{contact:e.firstContact}),c.replaceContact(e.firstContact)):t=Object(d.jsx)(N,{contact:c.contact}),Object(d.jsx)("section",{children:Object(d.jsx)("div",{children:t})})};var C=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(i.a)(n,2),j=r[0],o=r[1];return Object(a.useEffect)((function(){console.log("Effect"),s(!0);O("https://avb-contacts-api.herokuapp.com/contacts/paginated","GET",s,o)}),[]),c?Object(d.jsx)("section",{children:Object(d.jsx)("p",{children:"Loading..."})}):Object(d.jsx)("section",{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"fixed top-0 left-0 bottom-0 space-y-5 bg-gray-50 p-5",children:[Object(d.jsxs)("div",{className:"space-x-3 flex",children:[Object(d.jsx)("h1",{className:"text-2xl",children:"Contacts"}),Object(d.jsx)(l.b,{className:"bg-green-400 px-1 text-white rounded-full h-8 w-8 text-2xl text-center",to:"/edit/newContact",children:"+"})]}),Object(d.jsx)("div",{children:Object(d.jsx)(p,{contacts:j})})]}),Object(d.jsxs)("div",{className:"fixed left-44 right-0 p-10",children:[Object(d.jsx)("div",{className:"text-sm text-right text-blue-400 pt-10 pr-10",children:Object(d.jsx)(l.b,{to:"/addressBook/edit/updateContact",children:"Edit"})}),Object(d.jsxs)("div",{className:"fixed left-44 right-0 p-10",children:[Object(d.jsx)("div",{children:Object(d.jsx)(g,{firstContact:j[0]})}),Object(d.jsx)("div",{className:"text-center object-bottom pt-10",children:Object(d.jsx)(l.b,{className:"text-red-600",to:"/addressBook/edit/DeleteContact",children:"Delete"})})]})]})]})})},y=c(23);var k=function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),s=c[0],n=c[1],r=Object(y.a)().handleSubmit,j=Object(a.useRef)(null),o=Object(a.useRef)(null),b=Object(a.useRef)([]);function u(t){!t||b.current.includes(t)||e.contactData.emails.includes(t)||b.current.push(t)}return Object(d.jsx)("section",{children:Object(d.jsxs)("form",{onSubmit:r((function(t){var c=e.contactData.firstName,a=e.contactData.lastName,s=Object(x.a)(e.contactData.emails),n="",l="",r=[];n=null===j.current?c:j.current.value,l=null===o.current?a:o.current.value,s.map((function(e){return u(e)})),console.log(b.current);for(var i=0;i<b.current.length;i++)""!==b.current[i].value&&r.push(b.current[i].value);var d={id:e.contactData.id,firstName:n,lastName:l,emails:r};e.onContactUpdate(d)})),children:[Object(d.jsxs)("div",{className:"flex text-xs xl:space-x-80 xl:pl-80 lg:pl-44 lg:space-x-80 md:space-x-48 md:pl-36 sm:space-x-40",children:[Object(d.jsx)("h3",{children:"* First name"}),Object(d.jsx)("h3",{children:"* Last name"})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"flex pb-10 xl:space-x-52 xl:pl-80 lg:pl-44 lg:space-x-40 lg:pl-32 md:space-x-10 md:pl-36 space-x-10",children:[Object(d.jsxs)("div",{className:"bg-blue-100 border-solid border-2 border-blue-200",children:[Object(d.jsx)("label",{htmlFor:"firstname"}),Object(d.jsx)("input",{type:"text",required:!0,id:"firstname",name:"firstName",defaultValue:e.contactData.firstName,ref:j,placeholder:"First Name"})]}),Object(d.jsxs)("div",{className:"bg-blue-100 border-solid border-2 border-blue-200",children:[Object(d.jsx)("label",{htmlFor:"lastname"}),Object(d.jsx)("input",{type:"text",required:!0,id:"lastname",name:"lastName",defaultValue:e.contactData.lastName,ref:o,placeholder:"Last Name"})]})]})}),Object(d.jsxs)("div",{className:"xl:pl-80 lg:pl-44 md:pl-36",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"text-xs",children:"Email"}),Object(d.jsx)("div",{children:void 0!==e.contactData.emails?e.contactData.emails.map((function(t,c){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email"}),Object(d.jsx)("input",{className:"border-solid border-2 border-blue-200",type:"text",id:"email"+c,name:"email"+c,defaultValue:e.contactData.emails[c],ref:u,placeholder:"Email"})]},"email"+c)})):null})]}),Object(d.jsxs)("div",{children:[s.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email"}),Object(d.jsx)("input",{className:"border-solid border-2 border-blue-200",type:"text",id:"email"+t,name:"email"+t,ref:u,placeholder:"Email"})]},"email"+t)})),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"text-green-500 pb-10",onClick:function(){n([].concat(Object(x.a)(s),[""]))},type:"button",children:"+ Add Email"})})]})]}),Object(d.jsxs)("div",{className:"xl:space-x-60 xl:pl-96 lg:pl-64 lg:space-x-56 md:pl-48 md:space-x-36 sm:pl-14 sm:space-x-32",children:[Object(d.jsx)(l.b,{className:"border-2 border-gray-300 px-6 py-2 rounded text-yellow-600",to:"/addressBook",children:"Cancel"}),Object(d.jsx)("button",{className:"bg-green-600 px-2 py-1 text-white text-left rounded",children:"Save"})]})]})})};var w=function(e){var t=Object(r.f)(),c=Object(a.useContext)(b),s=c.contact;return Object(d.jsx)("section",{className:"relative",children:Object(d.jsxs)("div",{className:"md:flex",children:[Object(d.jsx)("div",{children:Object(d.jsx)(f,{})}),Object(d.jsxs)("div",{className:"fixed left-44 right-0 p-10 space-y-20",children:[Object(d.jsx)("h1",{className:"text-center",children:"Update Contact"}),Object(d.jsx)(k,{contactData:s,onContactUpdate:function(e){var a=e.id;fetch("https://avb-contacts-api.herokuapp.com/contacts/"+a,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){c.replaceContact([]),t.replace("/addressBook")}))}})]})]})})};var D=function(e){var t=Object(r.f)(),c=Object(a.useContext)(b);return Object(d.jsx)("div",{className:"bg-black bg-opacity-50 absolute inset-0 flex justify-center items-center text-center",children:Object(d.jsxs)("div",{className:"bg-white rounded z-50",children:[Object(d.jsx)("div",{className:"m-2 pb-2",children:Object(d.jsx)("h1",{children:"Delete contact?"})}),Object(d.jsx)("div",{className:"m-2",children:Object(d.jsxs)("div",{className:"space-x-5",children:[Object(d.jsx)("button",{className:"border-2 border-gray-300 px-2 py-1 rounded text-yellow-600",onClick:e.onCancel,children:"Cancel"}),Object(d.jsx)("button",{className:"bg-red-600 px-2 py-1 text-white rounded",onClick:function(){var a=e.contactData.id;fetch("https://avb-contacts-api.herokuapp.com/contacts/"+a,{method:"DELETE"}).then((function(){t.replace("/addressBook"),c.replaceContact([])}))},children:"Confirm"})]})})]})})};var E=function(e){return Object(d.jsx)("div",{className:"bg-black bg-opacity-50 absolute inset-0 cursor-pointer z-0",onClick:e.onCancel})};var S=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(r.f)(),l=Object(a.useContext)(b).contact;function j(){s(!1),n.replace("/addressBook")}return Object(d.jsx)("section",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(C,{}),Object(d.jsxs)("div",{children:[c&&Object(d.jsx)(D,{contactData:l,onCancel:j}),c&&Object(d.jsx)(E,{onCancel:j})]})]})})};var B=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/addressBook",exact:!0,children:Object(d.jsx)(C,{})}),Object(d.jsx)(r.a,{path:"/addressBook/edit/deleteContact",exact:!0,children:Object(d.jsx)(S,{})}),Object(d.jsx)(r.a,{path:"/addressBook/edit/newContact",exact:!0,children:Object(d.jsx)(v,{})}),Object(d.jsx)(r.a,{path:"/addressBook/edit/updateContact",exact:!0,children:Object(d.jsx)(w,{})})]})})};c(38);n.a.render(Object(d.jsx)(o,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(B,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.bb67f7cb.chunk.js.map